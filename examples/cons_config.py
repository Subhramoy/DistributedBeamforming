# this module will be imported in the into your flowgraph
# Configuration parameters for the device

import os 

modulations = [
    {
        "mod_name": "64QAM",
        "sym_map": [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63],
        "cons_points": [(-1.080123+1.080123j), (-1.080123+0.771517j), (-1.080123+0.154303j), (-1.080123+0.46291j), (-1.080123-1.080123j), (-1.080123-0.771517j), (-1.080123-0.154303j), (-1.080123-0.46291j), (-0.771517+1.080123j), (-0.771517+0.771517j), (-0.771517+0.154303j), (-0.771517+0.46291j), (-0.771517-1.080123j), (-0.771517-0.771517j), (-0.771517-0.154303j), (-0.771517-0.46291j), (-0.154303+1.080123j), (-0.154303+0.771517j), (-0.154303+0.154303j), (-0.154303+0.46291j), (-0.154303-1.080123j), (-0.154303-0.771517j), (-0.154303-0.154303j), (-0.154303-0.46291j), (-0.46291+1.080123j), (-0.46291+0.771517j), (-0.46291+0.154303j), (-0.46291+0.46291j), (-0.46291-1.080123j), (-0.46291-0.771517j), (-0.46291-0.154303j), (-0.46291-0.46291j), (1.080123+1.080123j), (1.080123+0.771517j), (1.080123+0.154303j), (1.080123+0.46291j), (1.080123-1.080123j), (1.080123-0.771517j), (1.080123-0.154303j), (1.080123-0.46291j), (0.771517+1.080123j), (0.771517+0.771517j), (0.771517+0.154303j), (0.771517+0.46291j), (0.771517-1.080123j), (0.771517-0.771517j), (0.771517-0.154303j), (0.771517-0.46291j), (0.154303+1.080123j), (0.154303+0.771517j), (0.154303+0.154303j), (0.154303+0.46291j), (0.154303-1.080123j), (0.154303-0.771517j), (0.154303-0.154303j), (0.154303-0.46291j), (0.46291+1.080123j), (0.46291+0.771517j), (0.46291+0.154303j), (0.46291+0.46291j), (0.46291-1.080123j), (0.46291-0.771517j), (0.46291-0.154303j), (0.46291-0.46291j)]
    },
    {
        "mod_name": "32QAM",
        "sym_map": [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31],
        "cons_points": [(-0.67082+1.118034j), (-0.223607+1.118034j), (-0.67082-1.118034j), (-0.223607-1.118034j), (-1.118034+0.67082j), (-1.118034+0.223607j), (-1.118034-0.67082j), (-1.118034-0.223607j), (-0.223607+0.67082j), (-0.223607+0.223607j), (-0.223607-0.67082j), (-0.223607-0.223607j), (-0.67082+0.67082j), (-0.67082+0.223607j), (-0.67082-0.67082j), (-0.67082-0.223607j), (0.67082+1.118034j), (0.223607+1.118034j), (0.67082-1.118034j), (0.223607-1.118034j), (1.118034+0.67082j), (1.118034+0.223607j), (1.118034-0.67082j), (1.118034-0.223607j), (0.223607+0.67082j), (0.223607+0.223607j), (0.223607-0.67082j), (0.223607-0.223607j), (0.67082+0.67082j), (0.67082+0.223607j), (0.67082-0.67082j), (0.67082-0.223607j)]
    },
    {
        "mod_name": "16QAM",
        "sym_map": [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15],
        "cons_points": [(-0.948683+0.948683j), (-0.948683+0.316228j), (-0.948683-0.948683j), (-0.948683-0.316228j), (-0.316228+0.948683j), (-0.316228+0.316228j), (-0.316228-0.948683j), (-0.316228-0.316228j), (0.948683+0.948683j), (0.948683+0.316228j), (0.948683-0.948683j), (0.948683-0.316228j), (0.316228+0.948683j), (0.316228+0.316228j), (0.316228-0.948683j), (0.316228-0.316228j)]
    },
    {
        "mod_name": "8QAM",
        "sym_map": [0, 1, 2, 3, 4, 5, 6, 7],
        "cons_points": [(-1.224745+0.408248j), (-1.224745-0.408248j), (-0.408248+0.408248j), (-0.408248-0.408248j), (1.224745+0.408248j), (1.224745-0.408248j), (0.408248+0.408248j), (0.408248-0.408248j)]
    },
    {
        "mod_name": "QPSK",
        "sym_map": [0, 1, 2, 3],
        "cons_points": [(-0.707107+0.707107j), (-0.707107-0.707107j), (0.707107+0.707107j), (0.707107-0.707107j)]
    },
    {
        "mod_name": "BPSK",
        "sym_map": [0, 1],
        "cons_points": [(-1+0j), (1+0j)]
    }
]

switcher = {
               "64QAM" : 0,
               "32QAM" : 1,
               "16QAM" : 2,
               "8QAM"  : 3,
               "QPSK"  : 4,
               "BPSK"  : 5
           }

def get_local_path():
	
    dir_path = os.path.dirname(os.path.realpath(__file__))
    print "Data Path at cons_config module: {}".format(dir_path)
    return dir_path

def get_points(modulation_name):

    index = switcher.get(modulation_name)
    #print(index)
    # return modulations[index].get("sym_map"), modulations[index].get("cons_points")
    return modulations[index].get("cons_points")

